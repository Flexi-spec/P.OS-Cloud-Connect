<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>P.OS | Cyber-Titan</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        :root {
            --accent: #00d4ff;
            --bg: #050505;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --card-blur: blur(25px);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body, html {
            margin: 0; padding: 0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #000;
            background-image: 
                radial-gradient(at 0% 0%, hsla(210,100%,10%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,100%,5%,1) 0, transparent 50%);
            color: white;
            height: 100vh;
            overflow: hidden;
        }

        /* --- HOME SCREEN (SPRINGBOARD) --- */
        .home-screen {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 20px;
            padding: 40px 20px;
            max-width: 600px;
            margin: 0 auto;
            transition: transform 0.5s ease, opacity 0.5s ease;
        }

        .home-screen.hidden {
            transform: scale(0.9);
            opacity: 0;
            pointer-events: none;
        }

        .app-icon-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: 0.3s;
        }

        .app-icon {
            width: 70px;
            height: 70px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            backdrop-filter: var(--card-blur);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            margin-bottom: 8px;
        }

        .app-icon-wrapper:active .app-icon { transform: scale(0.9); }
        .app-label { font-size: 0.75rem; font-weight: 500; letter-spacing: 0.5px; opacity: 0.8; }

        /* --- APP LAYER (THE MULTI-PAGES) --- */
        .app-layer {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: var(--bg);
            z-index: 200;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
        }

        .app-layer.active { transform: translateY(0); }

        .app-header {
            padding: 20px;
            display: flex;
            align-items: center;
            background: rgba(255,255,255,0.02);
            border-bottom: 1px solid var(--glass-border);
        }

        .back-btn {
            font-size: 1.2rem;
            margin-right: 20px;
            cursor: pointer;
            color: var(--accent);
        }

        iframe {
            flex-grow: 1;
            width: 100%;
            border: none;
            background: transparent;
        }

        /* --- SYSTEM BAR --- */
        .system-bar {
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-time { font-weight: 600; font-size: 0.9rem; }
        .greeting { font-size: 1.2rem; font-weight: 300; }
        .greeting span { color: var(--accent); font-weight: 700; }

        /* Mobile specific icon sizing */
        @media (max-width: 480px) {
            .home-screen { grid-template-columns: repeat(3, 1fr); gap: 15px; }
            .app-icon { width: 60px; height: 60px; font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="system-bar" data-aos="fade-down">
        <div class="greeting" id="dynamic-greet">System <span>Online</span></div>
        <div class="status-time" id="clock">00:00</div>
    </div>

    <main class="home-screen" id="home">
        <div class="app-icon-wrapper" onclick="openApp('weather', 'Weather Intel', 'weather.html')" data-aos="zoom-in" data-aos-delay="100">
            <div class="app-icon" style="color: #ffce67;"><i class="fa-solid fa-cloud-sun-bolt"></i></div>
            <div class="app-label">Weather</div>
        </div>

        <div class="app-icon-wrapper" onclick="openApp('chat', 'Secure Comms', 'chat.html')" data-aos="zoom-in" data-aos-delay="200">
            <div class="app-icon" style="color: #00ff88;"><i class="fa-solid fa-comment-dots"></i></div>
            <div class="app-label">Comms</div>
        </div>

        <div class="app-icon-wrapper" onclick="openApp('nodes', 'Grid Nodes', 'nodes.html')" data-aos="zoom-in" data-aos-delay="300">
            <div class="app-icon" style="color: var(--accent);"><i class="fa-solid fa-network-wired"></i></div>
            <div class="app-label">Nodes</div>
        </div>

        <div class="app-icon-wrapper" onclick="openApp('vault', 'The Vault', 'vault.html')" data-aos="zoom-in" data-aos-delay="400">
            <div class="app-icon" style="color: #ff3e3e;"><i class="fa-solid fa-shield-lock"></i></div>
            <div class="app-label">Vault</div>
        </div>
    </main>

    <div id="app-viewport" class="app-layer">
        <div class="app-header">
            <i class="fa-solid fa-chevron-left back-btn" onclick="closeApp()"></i>
            <span id="app-title" style="text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem;">App Name</span>
        </div>
        <iframe src="" id="app-frame"></iframe>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 600 });

        // Multi-Page Logic
        const home = document.getElementById('home');
        const viewport = document.getElementById('app-viewport');
        const frame = document.getElementById('app-frame');
        const title = document.getElementById('app-title');

        function openApp(id, name, url) {
            title.innerText = name;
            frame.src = url; // Directly loads the other page
            home.classList.add('hidden');
            viewport.classList.add('active');
        }

        function closeApp() {
            viewport.classList.remove('active');
            home.classList.remove('hidden');
            setTimeout(() => { frame.src = ""; }, 500); // Clear frame after animation
        }

        // Dynamic Greeting
        function updateStatus() {
            const hr = new Date().getHours();
            const greet = document.getElementById('dynamic-greet');
            let timeContext = "Morning";
            if(hr >= 12 && hr < 17) timeContext = "Afternoon";
            if(hr >= 17 && hr < 21) timeContext = "Evening";
            if(hr >= 21 || hr < 5) timeContext = "Night";
            
            greet.innerHTML = `${timeContext} <span>Titan</span>`;
        }

        // Clock
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        }, 1000);

        updateStatus();
    </script>
</body>
</html>
